<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Placar Eletrônico de Basquete</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            background-color: #1c1c1c;
            color: #dcdcdc;
            margin: 0;
            padding: 20px;
            text-align: center;
            flex-direction: column;
        }

        #app {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 20px;
            width: 100%;
            max-width: 800px;
        }

        .scoreboard {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 30px;
            margin-bottom: 20px;
            width: 100%;
        }

        .team-box {
            width: 120px;
            height: 140px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            font-weight: bold;
            color: #fff;
            cursor: pointer;
            position: relative;
            border-radius: 10px;
            transition: transform 0.2s, box-shadow 0.2s;
        }

        .team-box:hover {
            transform: scale(1.05);
            box-shadow: 0 0 15px rgba(255, 255, 255, 0.3);
        }

        .team-name {
            font-size: 16px;
            margin-bottom: 10px;
        }

        .team-score {
            font-size: 36px;
            transition: all 0.3s;
        }

        .score-updated {
            transform: scale(1.2);
            color: #4CAF50;
        }

        .white-box {
            background-color: white;
            color: black;
        }

        .blue-box {
            background-color: blue;
            color: white;
        }

        .team-controls {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 10px;
            width: 100%;
        }

        .score-controls {
            display: flex;
            gap: 10px;
        }

        button {
            padding: 10px 15px;
            font-size: 14px;
            cursor: pointer;
            background-color: #505050;
            color: white;
            border: none;
            border-radius: 5px;
            transition: background-color 0.2s;
        }

        button:hover {
            background-color: #707070;
        }

        .foul-scoreboard {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 30px;
            margin: 20px 0;
            width: 100%;
        }

        .foul-box {
            width: 80px;
            height: 50px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            font-size: 18px;
            font-weight: bold;
            color: #fff;
            cursor: pointer;
            transition: all 0.5s;
            border-radius: 5px;
        }

        .foul-white {
            background-color: white;
            color: black;
        }

        .foul-blue {
            background-color: blue;
            color: white;
        }

        .periodo-display {
            font-size: 1.5rem;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .periodo-display button {
            padding: 5px 10px;
            margin: 0 5px;
        }

        .timer-container {
            display: flex;
            flex-direction: column;
            gap: 20px;
            width: 100%;
        }

        .timer-box {
            font-size: 3rem;
            background-color: #333;
            padding: 20px;
            border-radius: 10px;
            width: 100%;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.5);
        }

        .timer-controls {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-top: 10px;
        }

        .shot-clock-buttons {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-top: 10px;
        }

        .action-buttons {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-top: 20px;
            width: 100%;
        }

        .time-horn-buttons {
            display: flex;
            gap: 10px;
        }

        .time-request-button {
            background-color: #5bc0de;
        }

        .horn-button {
            background-color: #d9534f;
        }

        .fullscreen-button {
            background-color: #5cb85c;
        }

        .config-menu {
            background-color: #333;
            padding: 20px;
            border-radius: 10px;
            margin-top: 20px;
            width: 100%;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.5);
        }

        .team-inputs {
            display: flex;
            justify-content: space-around;
            gap: 20px;
            margin-bottom: 15px;
        }

        .team-input {
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .team-input label {
            margin-bottom: 5px;
            font-weight: bold;
        }

        .team-input input {
            padding: 8px;
            border-radius: 5px;
            border: none;
            width: 150px;
        }

        .voice-selector {
            margin: 15px 0;
        }

        .voice-selector label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
        }

        .voice-selector select {
            padding: 8px;
            width: 100%;
            border-radius: 5px;
            border: none;
            background-color: #505050;
            color: white;
        }

        .config-buttons {
            display: flex;
            justify-content: center;
            gap: 10px;
        }

        @media (max-width: 600px) {
            .scoreboard {
                flex-direction: column;
                gap: 15px;
            }
            
            .team-controls {
                flex-direction: column;
                align-items: center;
            }
            
            .team-inputs {
                flex-direction: column;
                gap: 10px;
            }
        }
    </style>
</head>
<body>
    <div id="app">
        <!-- Placar Principal -->
        <div class="scoreboard">
            <div class="team-box white-box" id="white-team">
                <div class="team-name" id="white-team-name-display">Branco</div>
                <div class="team-score" id="white-score">0</div>
            </div>
            
            <div id="logo">
                <img src="basquete.gif" alt="Logo Basquete" style="max-width: 100px; height: auto;">
            </div>
            
            <div class="team-box blue-box" id="blue-team">
                <div class="team-name" id="blue-team-name-display">Azul</div>
                <div class="team-score" id="blue-score">0</div>
            </div>
        </div>

        <!-- Controles de Pontuação -->
        <div class="team-controls">
            <div class="score-controls" id="white-controls">
                <button onclick="ajustarPlacar('white', 1)">+1</button>
                <button onclick="ajustarPlacar('white', 2)">+2</button>
                <button onclick="ajustarPlacar('white', 3)">+3</button>
                <button onclick="ajustarFaltas('white', 1)">+Falta</button>
            </div>
            <div class="score-controls" id="blue-controls">
                <button onclick="ajustarPlacar('blue', 1)">+1</button>
                <button onclick="ajustarPlacar('blue', 2)">+2</button>
                <button onclick="ajustarPlacar('blue', 3)">+3</button>
                <button onclick="ajustarFaltas('blue', 1)">+Falta</button>
            </div>
        </div>

        <!-- Placar de Faltas -->
        <div class="foul-scoreboard">
            <div class="foul-box foul-white" id="white-foul">0</div>
            <div class="foul-box foul-blue" id="blue-foul">0</div>
        </div>

        <!-- Controle de Períodos -->
        <div class="periodo-display">
            <button id="decrease-period">-</button>
            <span id="period-display">1º Período</span>
            <button id="increase-period">+</button>
        </div>

        <!-- Timers -->
        <div class="timer-container">
            <!-- Timer do Jogo -->
            <div class="timer-box" id="game-timer">
                <button class="adjust-buttons" id="game-time-decrease">-</button>
                <span id="game-time-display">12:00</span>
                <button class="adjust-buttons" id="game-time-increase">+</button>
            </div>
            <div class="timer-controls">
                <button id="start-pause-game">Iniciar Jogo</button>
            </div>

            <!-- Shot Clock -->
            <div class="timer-box" id="shot-clock">
                <button class="adjust-buttons" id="shot-clock-decrease">-</button>
                <span id="shot-clock-display">24</span>
                <button class="adjust-buttons" id="shot-clock-increase">+</button>
            </div>
            <div class="shot-clock-buttons">
                <button id="reset-24">24s</button>
                <button id="reset-14">14s</button>
                <button id="reset-12">12s</button>
            </div>
        </div>

        <!-- Botões de Ação -->
        <div class="action-buttons">
            <div class="time-horn-buttons">
                <button class="time-request-button" id="time-request">Pedir Tempo</button>
                <button class="horn-button" id="horn-button">Buzina</button>
            </div>
            <button class="fullscreen-button" id="fullscreen-button">Tela Cheia</button>
        </div>

        <!-- Menu de Configuração -->
        <div class="config-menu">
            <div class="team-inputs">
                <div class="team-input">
                    <label for="white-team-name">Time Branco:</label>
                    <input type="text" id="white-team-name" placeholder="Nome do Time" value="Branco">
                </div>
                <div class="team-input">
                    <label for="blue-team-name">Time Azul:</label>
                    <input type="text" id="blue-team-name" placeholder="Nome do Time" value="Azul">
                </div>
            </div>
            
            <div class="voice-selector">
                <label for="voice-select">Voz de Anúncio:</label>
                <select id="voice-select"></select>
            </div>
            
            <div class="config-buttons">
                <button id="save-names">Salvar Configurações</button>
                <button id="reset-all">Reset Geral</button>
            </div>
        </div>
    </div>

    <script>
        // Variáveis Globais
        const pontuacaoMaxima = 200;
        const MAX_PERIODOS = 4;
        const TEMPO_POR_PERIODO = 12 * 60; // 12 minutos em segundos
        
        let placarBranco = 0;
        let placarAzul = 0;
        let faltasBranco = 0;
        let faltasAzul = 0;
        let nomeTimeBranco = "Branco";
        let nomeTimeAzul = "Azul";
        let periodoAtual = 1;
        let intervaloPiscarFaltasBranco;
        let intervaloPiscarFaltasAzul;
        let vozes = [];
        let vozSelecionada = null;
        
        // Timers
        let intervaloJogo;
        let intervaloTempoPosse;
        let tempoJogo = TEMPO_POR_PERIODO;
        let tempoPosse = 24;
        let jogoRodando = false;
        let tempoPosseRodando = false;
        let telaCheia = false;
        let ultimoTempoAnunciado = 0;

        // Elementos HTML
        const elementoPlacarBranco = document.getElementById('white-score');
        const elementoPlacarAzul = document.getElementById('blue-score');
        const elementoFaltasBranco = document.getElementById('white-foul');
        const elementoFaltasAzul = document.getElementById('blue-foul');
        const elementoNomeTimeBranco = document.getElementById('white-team-name-display');
        const elementoNomeTimeAzul = document.getElementById('blue-team-name-display');
        const elementoDisplayTempoJogo = document.getElementById('game-time-display');
        const elementoDisplayTempoPosse = document.getElementById('shot-clock-display');
        const elementoPeriodoDisplay = document.getElementById('period-display');
        const botaoIniciarPausar = document.getElementById('start-pause-game');
        const botaoPedirTempo = document.getElementById('time-request');
        const botaoBuzina = document.getElementById('horn-button');
        const botaoTelaCheia = document.getElementById('fullscreen-button');
        const inputNomeTimeBranco = document.getElementById('white-team-name');
        const inputNomeTimeAzul = document.getElementById('blue-team-name');
        const botaoSalvarNomes = document.getElementById('save-names');
        const botaoResetarTudo = document.getElementById('reset-all');
        const seletorVoz = document.getElementById('voice-select');
        const botaoAumentarPeriodo = document.getElementById('increase-period');
        const botaoDiminuirPeriodo = document.getElementById('decrease-period');

        // Carrega as vozes disponíveis
        function carregarVozes() {
            vozes = window.speechSynthesis.getVoices();
            seletorVoz.innerHTML = '';

            vozes.forEach((voz, indice) => {
                const opcao = document.createElement('option');
                opcao.value = indice;
                opcao.textContent = `${voz.name} (${voz.lang})`;
                seletorVoz.appendChild(opcao);
            });

            if (vozes.length > 0) {
                vozSelecionada = vozes[0];
            }
        }

        // Configura o seletor de voz
        window.speechSynthesis.onvoiceschanged = carregarVozes;

        // Função para falar texto
        function falar(texto) {
            if (!window.speechSynthesis) {
                console.warn("Síntese de voz não disponível");
                return;
            }
            
            window.speechSynthesis.cancel();
            const fala = new SpeechSynthesisUtterance(texto);
            fala.voice = vozSelecionada;
            fala.rate = 1.0;
            fala.pitch = 1.0;
            window.speechSynthesis.speak(fala);
        }

        // Função para tocar a buzina
        function tocarBuzina() {
            try {
                const somBuzina = new Audio('buzina.mp3');
                somBuzina.play().catch(e => console.log("Erro ao tocar buzina:", e));
            } catch (e) {
                console.log("Erro ao carregar buzina:", e);
            }
        }

        // Salva as configurações
        function salvarConfiguracoes() {
            nomeTimeBranco = inputNomeTimeBranco.value.trim() || "Branco";
            nomeTimeAzul = inputNomeTimeAzul.value.trim() || "Azul";
            
            elementoNomeTimeBranco.textContent = nomeTimeBranco;
            elementoNomeTimeAzul.textContent = nomeTimeAzul;
            
            const indiceSelecionado = seletorVoz.value;
            vozSelecionada = vozes[indiceSelecionado];
            
            // Salva no localStorage
            localStorage.setItem('timeBranco', nomeTimeBranco);
            localStorage.setItem('timeAzul', nomeTimeAzul);
            localStorage.setItem('vozSelecionada', indiceSelecionado);
            
            falar("Configurações salvas");
        }

        // Carrega configurações salvas
        function carregarConfiguracoes() {
            const savedTimeBranco = localStorage.getItem('timeBranco');
            const savedTimeAzul = localStorage.getItem('timeAzul');
            const savedVoz = localStorage.getItem('vozSelecionada');
            
            if (savedTimeBranco) {
                nomeTimeBranco = savedTimeBranco;
                inputNomeTimeBranco.value = savedTimeBranco;
                elementoNomeTimeBranco.textContent = savedTimeBranco;
            }
            
            if (savedTimeAzul) {
                nomeTimeAzul = savedTimeAzul;
                inputNomeTimeAzul.value = savedTimeAzul;
                elementoNomeTimeAzul.textContent = savedTimeAzul;
            }
            
            if (savedVoz && vozes[savedVoz]) {
                seletorVoz.value = savedVoz;
                vozSelecionada = vozes[savedVoz];
            }
        }

        // Efeito visual ao atualizar placar
        function efeitoAtualizacaoPlacar(elemento) {
            elemento.classList.add('score-updated');
            setTimeout(() => {
                elemento.classList.remove('score-updated');
            }, 300);
        }

        // Ajusta o placar dos times
        function ajustarPlacar(time, pontos, silencioso = false) {
            let placarAtual, novoPlacar, nomeTime, elementoPlacar;
            
            if (time === 'white') {
                placarAtual = placarBranco;
                novoPlacar = Math.max(0, Math.min(pontuacaoMaxima, placarAtual + pontos));
                placarBranco = novoPlacar;
                elementoPlacar = elementoPlacarBranco;
                elementoPlacar.textContent = novoPlacar;
                nomeTime = nomeTimeBranco;
            } else {
                placarAtual = placarAzul;
                novoPlacar = Math.max(0, Math.min(pontuacaoMaxima, placarAtual + pontos));
                placarAzul = novoPlacar;
                elementoPlacar = elementoPlacarAzul;
                elementoPlacar.textContent = novoPlacar;
                nomeTime = nomeTimeAzul;
            }
            
            efeitoAtualizacaoPlacar(elementoPlacar);
            
            if (!silencioso) {
                falar(`${nomeTime} ${novoPlacar} pontos`);
            }
        }

        // Função para piscar o quadrado de faltas
        function piscarFaltas(time) {
            const elementoFalta = document.getElementById(`${time}-foul`);
            const corOriginal = time === 'white' ? 'white' : 'blue';
            let vermelho = false;

            return setInterval(() => {
                vermelho = !vermelho;
                elementoFalta.style.backgroundColor = vermelho ? 'red' : corOriginal;
            }, 500);
        }

        // Ajusta as faltas coletivas
        function ajustarFaltas(time, faltas, silencioso = false) {
            let totalFaltas, elementoFalta, nomeTime, intervaloPiscar;
            
            if (time === 'white') {
                faltasBranco = Math.max(0, faltasBranco + faltas);
                totalFaltas = faltasBranco;
                elementoFalta = document.getElementById('white-foul');
                elementoFalta.textContent = totalFaltas;
                nomeTime = nomeTimeBranco;
                intervaloPiscar = intervaloPiscarFaltasBranco;
            } else {
                faltasAzul = Math.max(0, faltasAzul + faltas);
                totalFaltas = faltasAzul;
                elementoFalta = document.getElementById('blue-foul');
                elementoFalta.textContent = totalFaltas;
                nomeTime = nomeTimeAzul;
                intervaloPiscar = intervaloPiscarFaltasAzul;
            }

            // Para o piscar se o número de faltas for menor que 5
            if (totalFaltas < 5 && intervaloPiscar) {
                clearInterval(intervaloPiscar);
                if (time === 'white') {
                    intervaloPiscarFaltasBranco = null;
                } else {
                    intervaloPiscarFaltasAzul = null;
                }
                elementoFalta.style.backgroundColor = time === 'white' ? 'white' : 'blue';
            }

            // Inicia o piscar se o número de faltas for 5
            if (totalFaltas === 5 && !intervaloPiscar) {
                const novoIntervalo = piscarFaltas(time);
                if (time === 'white') {
                    intervaloPiscarFaltasBranco = novoIntervalo;
                } else {
                    intervaloPiscarFaltasAzul = novoIntervalo;
                }
            }

            if (!silencioso) {
                if (totalFaltas === 5) {
                    falar(`${nomeTime} com faltas estouradas!`);
                } else {
                    falar(`${totalFaltas} faltas para ${nomeTime}`);
                }
            }
        }

        // Função para formatar o tempo em minutos e segundos
        function formatarTempo(segundos) {
            const minutos = Math.floor(segundos / 60);
            const segs = segundos % 60;
            return `${minutos}:${segs < 10 ? '0' : ''}${segs}`;
        }

        // Atualiza a exibição do cronômetro do jogo
        function atualizarTempoJogo() {
            elementoDisplayTempoJogo.textContent = formatarTempo(tempoJogo);
        }

        // Atualiza a exibição do cronômetro do tempo de posse
        function atualizarTempoPosse() {
            elementoDisplayTempoPosse.textContent = tempoPosse;
        }

        // Anuncia o tempo de posse (sem anunciar o zero)
        function anunciarTempoPosse() {
            if (tempoPosse === 0) {
                // Não anunciar quando chegar a zero
                ultimoTempoAnunciado = 0;
                return;
            }
            
            if (tempoPosse === 10 || tempoPosse === 5 || tempoPosse <= 3) {
                if (tempoPosse !== ultimoTempoAnunciado) {
                    falar(tempoPosse.toString());
                    ultimoTempoAnunciado = tempoPosse;
                }
            } else {
                ultimoTempoAnunciado = 0;
            }
        }

        // Atualiza o display do período
        function atualizarPeriodo() {
            elementoPeriodoDisplay.textContent = `${periodoAtual}º Período`;
            tempoJogo = TEMPO_POR_PERIODO;
            atualizarTempoJogo();
        }

        // Avança para o próximo período
        function avancarPeriodo() {
            if (periodoAtual < MAX_PERIODOS) {
                periodoAtual++;
                atualizarPeriodo();
                falar(`Início do ${periodoAtual}º período`);
            } else {
                falar("Fim de jogo");
            }
        }

        // Volta para o período anterior
        function voltarPeriodo() {
            if (periodoAtual > 1) {
                periodoAtual--;
                atualizarPeriodo();
            }
        }

        // Inicia o cronômetro do jogo
        function iniciarTempoJogo() {
            if (jogoRodando) return;
            
            jogoRodando = true;
            botaoIniciarPausar.textContent = "Pausar Jogo";
            
            intervaloJogo = setInterval(() => {
                tempoJogo--;
                atualizarTempoJogo();

                if (tempoJogo <= 0) {
                    clearInterval(intervaloJogo);
                    clearInterval(intervaloTempoPosse);
                    jogoRodando = false;
                    tempoPosseRodando = false;
                    botaoIniciarPausar.textContent = "Iniciar Jogo";
                    tocarBuzina();
                    setTimeout(avancarPeriodo, 2000);
                }
            }, 1000);
        }

        // Inicia ou continua o tempo de posse
        function iniciarTempoPosse(reset = false) {
            if (tempoPosseRodando && !reset) return;
            
            tempoPosseRodando = true;
            ultimoTempoAnunciado = 0;
            
            intervaloTempoPosse = setInterval(() => {
                tempoPosse--;
                atualizarTempoPosse();
                anunciarTempoPosse();

                if (tempoPosse <= 0) {
                    tempoPosse = 24;
                    atualizarTempoPosse();
                    tocarBuzina();
                }
            }, 1000);
        }

        // Alterna a execução do cronômetro do jogo
        function alternarTempoJogo() {
            if (jogoRodando) {
                clearInterval(intervaloJogo);
                clearInterval(intervaloTempoPosse);
                jogoRodando = false;
                tempoPosseRodando = false;
                botaoIniciarPausar.textContent = "Iniciar Jogo";
            } else {
                iniciarTempoJogo();
                iniciarTempoPosse();
            }
        }

        // Reseta o cronômetro do jogo e do tempo de posse
        function resetarTudo() {
            clearInterval(intervaloJogo);
            clearInterval(intervaloTempoPosse);
            
            // Reset placar e faltas
            placarBranco = 0;
            placarAzul = 0;
            faltasBranco = 0;
            faltasAzul = 0;
            
            elementoPlacarBranco.textContent = "0";
            elementoPlacarAzul.textContent = "0";
            elementoFaltasBranco.textContent = "0";
            elementoFaltasAzul.textContent = "0";
            
            // Reset timers
            periodoAtual = 1;
            tempoJogo = TEMPO_POR_PERIODO;
            tempoPosse = 24;
            atualizarTempoJogo();
            atualizarTempoPosse();
            atualizarPeriodo();
            
            jogoRodando = false;
            tempoPosseRodando = false;
            botaoIniciarPausar.textContent = "Iniciar Jogo";
            
            // Reset piscar
            if (intervaloPiscarFaltasBranco) {
                clearInterval(intervaloPiscarFaltasBranco);
                intervaloPiscarFaltasBranco = null;
                elementoFaltasBranco.style.backgroundColor = 'white';
            }
            if (intervaloPiscarFaltasAzul) {
                clearInterval(intervaloPiscarFaltasAzul);
                intervaloPiscarFaltasAzul = null;
                elementoFaltasAzul.style.backgroundColor = 'blue';
            }
            
            falar("Placar resetado");
        }

        // Reseta o tempo de posse para valores específicos
        function resetarTempoPosse24() {
            clearInterval(intervaloTempoPosse);
            tempoPosse = 24;
            atualizarTempoPosse();
            iniciarTempoPosse(true);
        }

        function resetarTempoPosse14() {
            clearInterval(intervaloTempoPosse);
            tempoPosse = 14;
            atualizarTempoPosse();
            iniciarTempoPosse(true);
        }

        function resetarTempoPosse12() {
            clearInterval(intervaloTempoPosse);
            tempoPosse = 12;
            atualizarTempoPosse();
            iniciarTempoPosse(true);
        }

        // Pedido de tempo
        function pedirTempo() {
            tocarBuzina();
            setTimeout(() => {
                falar("Pedido de tempo");
            }, 999);
        }

        // Alternar tela cheia
        function alternarTelaCheia() {
            if (!telaCheia) {
                document.documentElement.requestFullscreen().catch(err => {
                    console.log(`Erro ao tentar entrar em tela cheia: ${err.message}`);
                });
                botaoTelaCheia.textContent = "Sair da Tela Cheia";
                telaCheia = true;
            } else {
                document.exitFullscreen();
                botaoTelaCheia.textContent = "Tela Cheia";
                telaCheia = false;
            }
        }

        // Event Listeners
        document.getElementById('white-team').addEventListener('click', () => {
            ajustarPlacar('white', -1, true);
        });

        document.getElementById('blue-team').addEventListener('click', () => {
            ajustarPlacar('blue', -1, true);
        });

        document.getElementById('white-foul').addEventListener('click', () => {
            ajustarFaltas('white', -1, true);
        });

        document.getElementById('blue-foul').addEventListener('click', () => {
            ajustarFaltas('blue', -1, true);
        });

        document.getElementById('game-time-increase').addEventListener('click', () => {
            tempoJogo += 10;
            atualizarTempoJogo();
        });

        document.getElementById('game-time-decrease').addEventListener('click', () => {
            tempoJogo = Math.max(0, tempoJogo - 10);
            atualizarTempoJogo();
        });

        document.getElementById('shot-clock-increase').addEventListener('click', () => {
            tempoPosse = Math.min(99, tempoPosse + 1);
            atualizarTempoPosse();
        });

        document.getElementById('shot-clock-decrease').addEventListener('click', () => {
            tempoPosse = Math.max(0, tempoPosse - 1);
            atualizarTempoPosse();
        });

        document.getElementById('reset-24').addEventListener('click', resetarTempoPosse24);
        document.getElementById('reset-14').addEventListener('click', resetarTempoPosse14);
        document.getElementById('reset-12').addEventListener('click', resetarTempoPosse12);

        botaoPedirTempo.addEventListener('click', pedirTempo);
        botaoBuzina.addEventListener('click', tocarBuzina);
        botaoTelaCheia.addEventListener('click', alternarTelaCheia);
        botaoSalvarNomes.addEventListener('click', salvarConfiguracoes);
        botaoResetarTudo.addEventListener('click', resetarTudo);
        botaoIniciarPausar.addEventListener('click', alternarTempoJogo);
        botaoAumentarPeriodo.addEventListener('click', avancarPeriodo);
        botaoDiminuirPeriodo.addEventListener('click', voltarPeriodo);
        seletorVoz.addEventListener('change', () => {
            const indiceSelecionado = seletorVoz.value;
            vozSelecionada = vozes[indiceSelecionado];
            localStorage.setItem('vozSelecionada', indiceSelecionado);
        });

        // Inicialização
        document.addEventListener('DOMContentLoaded', () => {
            carregarVozes();
            carregarConfiguracoes();
            atualizarTempoJogo();
            atualizarTempoPosse();
            atualizarPeriodo();
        });
    </script>
</body>
</html>